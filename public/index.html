<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Katana - PHP static site & blog generator</title>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/libs.css">
    <link rel="stylesheet" href="/prism.css">
    <link rel="stylesheet" href="/style.css">

</head>
<body>
<div class="container header">
    <div class="row">
        <div class="col-md-6">
            <div class="hero">
                <h1 class="katana">Katana</h1>
                <p class="h2">PHP static site & blog generator with markdown support.</p>
                <p class="h3">Using the power of laravel's Blade templating engine.</p>
            </div>
        </div>
        <div class="col-md-6 text-right">
            <div class="features">
                <span class="m-t-40">Markdown support &#9733;</span>
                <span>Blazing fast installation &#9733;&#9733;</span>
                <span>Pretty URLs out of the box &#9733;&#9733;&#9733;</span>
                <span>Easy blog posts pagination &#9733;&#9733;&#9733;&#9733;</span>
            </div>
        </div>
    </div>
</div>

<div class="container m-t-40">
    <div class="row">
        <div class="col-md-3">
            <img src="/snippet_2.png">
        </div>

        <div class="col-md-3">
            <img src="/snippet_1.png">
        </div>

        <div class="col-md-3">
            <img src="/snippet_3.png">
        </div>

        <div class="col-md-3">
            <img src="/snippet_4.png">
        </div>
    </div>
</div>

<div class="m-t-40 boom">
    <div class="container text-center text-white">
        <h3>INSTALL NOW</h3>

        <code>composer create-project themsaid/katana your-site-name</code>

        <p>
            <a href="https://github.com/themsaid/katana">Check Github project</a>
            || continue reading the docs &#9759;
        </p>
    </div>
</div>

<div class="container docs m-t-40">
    <div class="col-md-8 col-md-offset-2 docs-content">
        <div class="toc">
            <ul>
<li><a href="#installation">-&gt; Installation</a></li>
<li><a href="#directory-structure">-&gt; Directory Structure</a></li>
<li><a href="#blade-templates">-&gt; Blade Templates</a></li>
<li><a href="#blog-generator">-&gt; Blog Generator</a></li>
<li><a href="#github-pages">-&gt; GitHub Pages</a></li>
<li><a href="#sample-content">-&gt; Sample Content</a></li>
</ul>        </div>

        <p><a name="installation"></a></p>
<h1>Installation</h1>
<p>Installing Katana is fairly easy, first you need to run the composer create-project command:</p>
<pre><code class="language-bash">composer create-project themsaid/katana your-site-name</code></pre>
<p>Now you have a fresh installation of Katana in the <code>your-site-name</code> directory, now you need to build your site
by running the following commands:</p>
<pre><code class="language-bash">cd your-site-name

php katana build</code></pre>
<p>The website files will be generated in the <code>public</code> directory.</p>
<h4>Defining the base URL for the build</h4>
<p>You can define the base URL of your website for the current build by providing a <code>base_url</code> console option:</p>
<pre><code class="language-bash">php katana build --base_url=/awesome-site</code></pre>
<p>Doing this will generate URLs like <code>/awesome-site/about</code> when using the <code>@url()</code> blade directive.</p>
<p><a name="directory-structure"></a></p>
<h1>Directory structure</h1>
<p>After running the build command the structure will contain the following files:</p>
<ul>
<li><code>content</code> This is where Katana looks for your site content.</li>
<li><code>_cache</code> This is where Blade saves its compiled views.</li>
<li><code>public</code> Katana will generate your site static files in this directory.</li>
<li><code>config.php</code> This is where your site configurations are.</li>
</ul>
<h4>About the &quot;content&quot; directory structure</h4>
<p>This directory holds your blade views, static assets (JS files, stylsheets, images, etc...), the
<code>_blog</code> directory, and the
<code>_includes</code> directory.</p>
<p>The
<code>_includes</code> directory is where you place your layouts and base views, Katana will not generate accessible pages for these files.</p>
<p>The <code>_blog</code> directory is where you save your blog posts.</p>
<h4>About config.php</h4>
<p>This file contains a list of predefined configuration values Katana needs to be able to generate your website, each configuration option is accompanied by a detailed explanation of what it's for.</p>
<p>In this file you may also define any custom variables, later you can call these variable in any blade view in your website.</p>
<p><a name="blade-templates"></a></p>
<h1>Blade Templates</h1>
<p>If you're not already familiar with Blade then here's a description for it from laravel's website:</p>
<blockquote>
<p>Blade is the simple, yet powerful templating engine provided with Laravel. Unlike other popular PHP templating engines, Blade does not restrict you from using plain PHP code in your views.</p>
</blockquote>
<p>It's recommended that you <a href="https://laravel.com/docs/5.2/blade">read more about Blade</a>.</p>
<h4>Markdown in blade</h4>
<p>Katana includes a <code>@markdown</code> directive for Blade, here's how you can use it:</p>
<pre><code class="language-html">&lt;h2&gt;Regular HTML heading&lt;/h2&gt;

@markdown
    This is some **Markdown** content.
@endmarkdown</code></pre>
<h4>Generating URLs</h4>
<p>Katana also includes a <code>@url()</code> directive to generate URLs for pages and assets based on the site's <code>base_url</code>:</p>
<pre><code class="language-html">@('/')                // Outputs '/'

@('about')            // Outputs '/about'

@('assets/style.js')  // Outputs '/assets/style.js'</code></pre>
<p><a name="blog-generator"></a></p>
<h1>The Blog generator</h1>
<p>Generating a blog with Katana is insanely easy, all you have to do is to create a new file in the
<code>/content/_blog/</code> directory with the following format for the name:</p>
<pre><code class="language-html">2016-03-03-my-post-slug.blade.php</code></pre>
<p>The date at the beginning of the name will help make your posts sorted by date in the filesystem, it'll also be used to generate a unique pretty URL for your post, the generated URL for the above post is:</p>
<pre><code class="language-html">blog.com/my-post-slug-20160303</code></pre>
<h4>Blog post variables</h4>
<p>A blog post view may look like this:</p>
<pre><code class="language-html">@section('post::title', 'Stop Trying To Be Somebody')
@section('post::date', 'February 28, 2016')

@section('post_body')
    &lt;h2&gt;@yield('post::title')&lt;/h2&gt;
    &lt;small&gt;@yield('post::date')&lt;/small&gt;

    Post content here.
@stop</code></pre>
<p>Section names starting with <code>post::</code> will be added to a global variable called <code>$blogPosts</code>,
this variable will be present in all blade views and it contains an array of post objects.</p>
<p>You can use this variable to loop over all blog posts:</p>
<pre><code class="language-html">@foreach($blogPosts as $blogPost)
    &lt;li&gt;
        &lt;a href="{{ $blogPost-&gt;path }}"&gt;
            {{ $blogPost-&gt;title }} at {{ $blogPost-&gt;date }}
        &lt;/a&gt;
    &lt;/li&gt;
@endforeach</code></pre>
<p>The
<code>path</code> attribute is automatically added by Katana, it holds the relative URL to the blog post.</p>
<h4>Blog posts pagination</h4>
<p>Katana generates pages to display every chunk of posts, you first need to set the
<code>postsPerPage</code> and
<code>postsListView</code> configuration values in
<code>config.php</code>.</p>
<p>Go ahead and take a look at the configuration file to know more about what every configuration does.</p>
<p>Inside the pagination view a <code>$paginatedBlogPosts</code> variable exists containing all the posts for display in
the current page, there's also <code>$nextPage</code> and <code>$previousPage</code> variables that hold links to the next and previous pages.</p>
<p><a name="github-pages"></a></p>
<h1>GitHub Pages</h1>
<p>You can use Katana to publish a website over <a href="https://pages.github.com/">GitHub Pages</a> using subtrees, the idea is to
deploy the public directory as the <code>master</code> branch of your user GitHub pages repository or the <code>gh-pages</code> branch of
your project repository.</p>
<h4>Step 1 - Add katana to a branch other than master/gh-pages:</h4>
<p>We're going to call this branch <code>gh-pages-source</code>, install Katana on this branch and add content to your installation normally.</p>
<h4>Step 2 - Build the website:</h4>
<p>Once your content is ready to be published run the build command:</p>
<pre><code class="language-bash">php katana build</code></pre>
<p>If you're going to publish the website on a GitHub page for a project rather than a user you'll need to define a <code>base_url</code>.</p>
<pre><code class="language-bash">php katana build --base_url=project-repo-name</code></pre>
<h4>Step 3 - Push your source files to the source branch</h4>
<pre><code class="language-bash">git add --all

git commit -m 'publishing website'

git push origin gh-pages-source</code></pre>
<h4>Step 3 - Push your public directory to the master/gh-pages branch</h4>
<p>You need to make sure the <code>public</code> directory is removed from <code>.gitignore</code> first.</p>
<pre><code class="language-bash">git subtree push --prefix public origin master</code></pre>
<p>OR</p>
<pre><code class="language-bash">git subtree push --prefix public origin gh-pages</code></pre>
<p><a name="sample-content"></a></p>
<h1>Sample Content</h1>
<p>After installing Katana you'll find sample content for a website and a blog included, take a look at these files in
order for you to better understand how Katana compiles different types of files &amp; blog posts.</p>    </div>
</div>

<div class="m-t-40 boom footer">
    <div class="container text-center">
        <p>
            Katana is created by <a href="https://twitter.com/themsaid">Mohamed Said</a>
            <br>
            Licensed under MIT License.
            <br>
            <br>
            <a href="https://github.com/themsaid/katana">Github project</a> ·
            <a href="https://github.com/themsaid/katana/issues">Issues</a>
        </p>
    </div>
</div>

<script src="/prism.js"></script>
</body>
</html>